---
galaxy_info:
  author: ome-devel@lists.openmicroscopy.org.uk
  description: Install and configure OMERO.server, and optionally PostgreSQL
  company: Open Microscopy Environment
  license: BSD
  min_ansible_version: 2.2
  platforms:
    - name: EL
      versions:
        - 7
  role_name: omero_server
  galaxy_tags: ['omero', 'server']

dependencies:
  - role: ome.omero_common
  - role: ome.omego
    when: not omero_server_python3
  - role: ome.basedeps
  - role: ome.java
  - role: ome.omero_python_deps
    when: not omero_server_python3
  - role: ome.ice
    ice_version: "{{ omero_server_ice_version }}"
    # TODO: For whatever reason this doesn't work, you must put these in your
    # playbook instead
    # ice_install_devel: not omero_server_python3
    # ice_install_python: not omero_server_python3
  - role: ome.postgresql
    postgresql_install_server: false
